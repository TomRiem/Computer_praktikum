\section{Riemannian Symmetric Rank-One Update}

The direct SR1 update for operators on tangent spaces of the manifold which approximate the action of the Riemannian Hessian $\operatorname{Hess} f(x_{k+1}) [\cdot]$ is given by 
\begin{equation}\label{RiemannianDirectSR1formula}
    \mathcal{H}^\mathrm{SR1}_{k+1} [\cdot] = \widetilde{\mathcal{H}}^\mathrm{SR1}_k [\cdot] + \frac{(y_k - \widetilde{\mathcal{H}}^\mathrm{SR1}_k [s_k]) (y_k - \widetilde{\mathcal{H}}^\mathrm{SR1}_k [s_k])^{\flat} [\cdot] }{(y_k - \widetilde{\mathcal{H}}^\mathrm{SR1}_k [s_k])^{\flat} [s_k]}
\end{equation}
\cite[p.~18]{Huang:2013}, and it is not difficult to derive the update formula for the approximation of the Hessian inverse ${\operatorname{Hess} f(x_{k+1})}^{-1} [\cdot]$, which is given by 
\begin{equation}\label{RiemannianInverseSR1formula}
    \mathcal{B}^\mathrm{SR1}_{k+1} [\cdot] = \widetilde{\mathcal{B}}^\mathrm{SR1}_k [\cdot] + \frac{(s_k - \widetilde{\mathcal{B}}^\mathrm{SR1}_k [y_k]) (s_k - \widetilde{\mathcal{B}}^\mathrm{SR1}_k [y_k])^{\flat} [\cdot] }{(s_k - \widetilde{\mathcal{B}}^\mathrm{SR1}_k [y_k])^{\flat} [y_k]}.
\end{equation}
We see immediately that both \cref{RiemannianDirectSR1formula} and \cref{RiemannianInverseSR1formula} create self-adjoint operators if $\widetilde{\mathcal{H}}^\mathrm{SR1}_k$ or $\widetilde{\mathcal{B}}^\mathrm{SR1}_k$ are self-adjoint (which are self-adjoint if $\mathcal{H}^\mathrm{SR1}_k$ or $\mathcal{B}^\mathrm{SR1}_k$ are self-adjoint, since the parallel transport $\parallelTransportSymbol$ is an isometric vector transport). Furthermore, we see that the update formula \cref{RiemannianDirectSR1formula} produces a positive definite operator if $\widetilde{\mathcal{H}}^\mathrm{SR1}_k$ is positive definite (which is positive definite if $\mathcal{H}^\mathrm{SR1}_k$ is positive definite, since the parallel transport $\parallelTransportSymbol$ is an isometric vector transport) and $(y_k - \widetilde{\mathcal{H}}^\mathrm{SR1}_k [s_k])^{\flat} [s_k] = g_{x_{k+1}}(y_k - \widetilde{\mathcal{H}}^\mathrm{SR1}_k [s_k], s_k) >0$ holds (the same of course for \cref{RiemannianInverseSR1formula}). This shows that, just as in the Euclidean case, the search direction $\eta_k \in \tangent{x_k}$ does not always have to be a descent direction and that there is also the possibility that this method can break down if the numerator in \cref{RiemannianDirectSR1formula} or \cref{RiemannianInverseSR1formula} is equal to zero. In order to overcome this, \cref{CautiousSR1} can be transferred to the Riemannian setup. This means that \cref{RiemannianDirectSR1formula} is only executed if
\begin{equation}\label{RiemannianCautiousSR1}
    \lvert g_{x_{k+1}}(y_k - \widetilde{\mathcal{H}}^\mathrm{SR1}_k [s_k], s_k) \lvert \; \geq \; r \; \lVert s_k \rVert_{x_{k+1}} \lVert y_k - \widetilde{\mathcal{H}}^\mathrm{SR1}_k [s_k] \rVert_{x_{k+1}} 
\end{equation}
holds, where $g_{x_{k+1}}(\cdot, \cdot) \colon \; \tangent{x_{k+1}} \times \tangent{x_{k+1}} \to \mathbb{R}$ is the inner product on $\tangent{x_{k+1}}$ (see \cite[p.~6]{BergmannHerzogLouzeiroSilvaTenbrinckVidalNunez:2020:1}) and $ \lVert \cdot \rVert_{x_{k+1}} = \sqrt{g_{x_{k+1}}(\cdot, \cdot)}$ denotes the resulting norm on $\tangent{x_{k+1}}$. The factor $r$ is again in the interval $(0,1)$. In order to be able to apply this methodology to \cref{RiemannianInverseSR1formula} as well, it is checked in each iteration whether 
\begin{equation}\label{RiemannianCautiousSR1.2}
    \lvert g_{x_{k+1}}(s_k - \widetilde{\mathcal{B}}^\mathrm{SR1}_k [y_k], y_k) \lvert \; \geq \; r \; \lVert y_k \rVert_{x_{k+1}} \lVert s_k - \widetilde{\mathcal{B}}^\mathrm{SR1}_k [y_k] \rVert_{x_{k+1}} 
\end{equation}
is fulfilled. If this is the case, \cref{RiemannianInverseSR1formula} is executed. To get to \cref{RiemannianCautiousSR1.2}, the triple $(\widetilde{\mathcal{H}}^\mathrm{SR1}_k, s_k, y_k)$ in \cref{RiemannianCautiousSR1} was simply replaced by the triple $(\widetilde{\mathcal{B}}^\mathrm{SR1}_k, y_k, s_k)$. We see that by fulfilling \cref{RiemannianCautiousSR1.2} and if $\widetilde{\mathcal{B}}^\mathrm{SR1}_k$ is a positive definite operator, \cref{RiemannianInverseSR1formula} produces a positive definite operator.